<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AccountLookup</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito+Sans:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles/main.css" />
    <link rel="stylesheet" href="styles/alup.css" />
    <style>
      .profile {
        display: flex;
        align-items: center;
        border: 1px solid white;
        border-radius: 10px;
        padding: 10px 5px;
      }

      .profile img {
        padding-right: 5px;
      }

      .profile-main {
        text-align: left;
      }

      .profile p {
        margin: 0px;
        font-size: 15px;
      }

      .nav-detail {
        margin-bottom: 10%;
      }

      .nav-detail p {
        display: flex;
        align-items: center;
        margin-bottom: 5px;
        font-size: 15px;
      }

      .nav-detail p object {
        padding-right: 10px;
        height: 15px;
        width: 15px;
      }

      .unique-card {
        border: 1px solid #ccc;
        border-radius: 10px;
        padding: 15px;
        margin: 10px 0;
        display: flex;
        /* align-items: center; */
        cursor: pointer;
      }

      .unique-profile-image {
        border-radius: 50%;
        margin-right: 15px;
      }

      .card-container a {
        text-decoration: none;
        color: black;
      }
    </style>
  </head>

  <body>
    <div class="dashboard-container">
      <div class="sidebar">
        <img src="images/logo_white.png" alt="Logo" class="sidebar-logo" />
        <ul>
          <li>
            <a href="account.html"
              ><img src="images/image (3).png" alt="Account Icon" />Dashboard</a
            >
          </li>
          <li>
            <a href="dashboard.html"
              ><img
                src="images/image (1).png"
                alt="Dashboard Icon"
              />Accounts</a
            >
          </li>
          <li>
            <a href="transaction.html"
              ><img
                src="images/e_sideBar (2).png"
                alt="Account Icon"
              />Customers</a
            >
          </li>
          <li>
            <a href="loan.html"
              ><img src="images/e_sideBar (3).png" alt="Customer Icon" />Loan</a
            >
          </li>
          <li>
            <a href="accountLookup.html"
              ><img
                src="images/image (4).png"
                alt="Transaction Icon"
              />Transaction</a
            >
          </li>
          <li>
            <a href="CurrencyExchange.html"
              ><img src="images/e_sideBar (4).png" alt="Account Icon" />Currency
              Exchange</a
            >
          </li>
          <li>
            <a href="Transfer.html"
              ><img src="images/e_sideBar (5).png" alt="Account Icon" />Transfer
              Globally</a
            >
          </li>
          <li>
            <a href="customer.html"
              ><img
                src="images/e_sideBar (1).png"
                alt="Customer Icon"
              />Document</a
            >
          </li>
        </ul>
        <div class="svg-container-profile">
          <!-- <object data="images/profile.svg" type="image/svg+xml">
                    Your browser does not support SVG
                </object> -->
          <div class="profile">
            <img src="../admin/assets/side/image 15.png" alt="" />
            <div class="profile-main">
              <p>Profile</p>
              <p>hayat(Manager)</p>
            </div>
          </div>
          <div class="nav-detail">
            <p>
              <object
                data="../admin/assets/Ellipse 1064reddot.svg"
                type="image/svg+xml"
              ></object>
              Employee Account
            </p>
            <p>
              <object
                data="../admin/assets/Ellipse 1064bluedot.svg"
                type="image/svg+xml"
              ></object
              >Shared Account (Bank ABC)
            </p>
          </div>
        </div>
        <div class="logout" onclick="navigateToLoginPage()">
          <button><img src="images/Logout.png" alt="" />Logout</button>
        </div>
      </div>
      <div class="main-content">
        <div class="navbar">
          <div class="welcome-container">
            <h3>Welcome back, ABC bank</h3>
            <p>04 March 2024 | 4:31 PM</p>
          </div>
          <ul>
            <li>
              <button class="icon-button" id="bell-icon-button">
                <img src="images/bell_icon.png" alt="Bell Icon" class="icon" />
              </button>
            </li>
            <li class="search-container">
              <input type="text" class="search-box" placeholder="Search..." />
            </li>
          </ul>
        </div>
        <div class="content">
          <h1>Account Lookup</h1>
          <p>
            Here is the comprehensive overview of account metrics available for
            analysis.
          </p>
          <div class="search-bar-container">
            <input
              type="text"
              class="content-search-box"
              placeholder="Search Accounts."
            />
          </div>
          <div class="button-container">
            <div class="custom-button" id="account-number-button">
              <img src="images/Acc (4).png" alt="Icon 1" class="button-icon" />
              <span class="button-text">Account number</span>
            </div>
            <div class="custom-button" id="account-number-button2">
              <img src="images/d (2).png" alt="Icon 2" class="button-icon" />
              <span class="button-text">Name</span>
            </div>
            <div class="custom-button" id="account-number-button3">
              <img src="images/Vector.svg" alt="Icon 3" class="button-icon" />
              <span class="button-text">Phone number</span>
            </div>
            <div class="custom-button" id="account-number-button4">
              <img src="images/mail.svg" alt="Icon 4" class="button-icon" />
              <span class="button-text">Email</span>
            </div>
            <div class="custom-button" id="bycard-button">
              <img
                src="images/Vector (1).svg"
                alt="Icon 5"
                class="button-icon"
              />
              <span class="button-text">By card</span>
            </div>
          </div>
          <!-- accounts count -->
          <div class="account-count">
            <div class="circle" id="account-count">0</div>
            <h1>Account</h1>
          </div>
          <!-- accounts list -->
          <div class="card-container" id="card-container">
            <!-- Account cards will be dynamically added here -->
          </div>
        </div>
      </div>
    </div>

    <script src="scripts/main.js"></script>
    <script>
      document
        .getElementById("bell-icon-button")
        .addEventListener("click", function () {
          window.location.href = "notification.html";
        });

      document
        .getElementById("bycard-button")
        .addEventListener("click", function () {
          window.location.href = "bycard.html";
        });
      document
        .getElementById("account-number-button")
        .addEventListener("click", function () {
          window.location.href = "accountnumber.html";
        });
      document
        .getElementById("account-number-button2")
        .addEventListener("click", function () {
          window.location.href = "name.html";
        });
      document
        .getElementById("account-number-button3")
        .addEventListener("click", function () {
          window.location.href = "phoneNumber.html";
        });
      document
        .getElementById("account-number-button4")
        .addEventListener("click", function () {
          window.location.href = "email.html";
        });
      function navigateToLoginPage() {
        window.location.href = "../index.html"; // Replace with the actual URL of the new account page
      }

      function addUserCard(user) {
        console.log("Adding user card:", user);

        const cardContainer = document.getElementById("card-container");
        const card = document.createElement("a");
        card.href = `viewdetail.html?userId=${user.userId}`;
        card.className = "unique-card";
        card.innerHTML = `
        <div class="unique-card-content">
            <img src="images/ellipse.png" alt="Profile Image" class="unique-profile-image">
            <div class="unique-profile-details">
                <div class="unique-profile-text">${user.name}</div>
                <div class="unique-account-details">Account Number: ${user.userId}</div>
            </div>
        </div>
        <div class="unique-additional-text">Balance: ${user.balance}</div>
    `;
        cardContainer.appendChild(card);

        // Update account count
        updateAccountCount();
      }

      function updateAccountCount() {
        const users = localStorage.getItem("users")
          ? JSON.parse(localStorage.getItem("users"))
          : [];
        console.log("Updating account count:", users.length);
        document.getElementById("account-count").textContent = users.length;
      }

      // Initialize account lookup on page load
      document.addEventListener("DOMContentLoaded", function () {
        const users = localStorage.getItem("users")
          ? JSON.parse(localStorage.getItem("users"))
          : [];
        console.log("Loaded users:", users);
        users.forEach((user) => addUserCard(user));
        updateAccountCount();
      });
    </script>
  </body>
</html>
